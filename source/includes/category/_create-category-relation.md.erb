## Create category relation


> REQUEST

```shell
curl -X POST \
  '<%= config[:endpoint] %>/media/entity/related/metadata' \
  -H 'Authorization: <%= config[:token] %>' \
  -H 'Content-Type: application/json' \
  -d '{
    "entityId": "<%= config[:category_create_relation_entity_id] %>",
    "metadataIds": ["<%= config[:category_create_relation_category_id_1] %>", "<%= config[:category_create_relation_category_id_2] %>"]
}'
```

```ruby
require "uiza"

Uiza.authorization = "<%= config[:token] %>"

params = {
  entityId: "<%= config[:category_create_relation_entity_id] %>",
  metadataIds: ["<%= config[:category_create_relation_category_id_1] %>", "<%= config[:category_create_relation_category_id_2] %>"]
}

begin
  relations = Uiza::Category.create_relation params
  puts relations.first.id
  puts relations.first.entityId
rescue Uiza::Error::UizaError => e
  puts "description_link: #{e.description_link}"
  puts "code: #{e.code}"
  puts "message: #{e.message}"
rescue StandardError => e
  puts "message: #{e.message}"
end
```

```python
import uiza

from uiza.api_resources.category import Category
from uiza.exceptions import ServerException

uiza.authorization = "<%= config[:token] %>"

relations_data = {
  "entity_id": "<%= config[:category_create_relation_entity_id] %>",
  "metadata_ids": ["<%= config[:category_create_relation_category_id_1] %>", "<%= config[:category_create_relation_category_id_2] %>"]
}

try:
  res, status_code = Category().create_relation(**relations_data)

  print("res: ", res)
except ServerException as e:
  raise e
except Exception as e:
  raise e
```

```php
<?php
require __DIR__."/../vendor/autoload.php";

Uiza\Base::setAuthorization("<%= config[:token] %>");

$params = [
  "entityId" => "<%= config[:category_create_relation_entity_id] %>",
  "metadataIds" => ["<%= config[:category_create_relation_category_id_1] %>", "<%= config[:category_create_relation_category_id_2] %>"]
];

try {
  $relations = Uiza\Category::createRelation($params);

  print_r($relations);
} catch(\Uiza\Exception\ErrorResponse $e) {
  print($e);
}
?>
```

```java
import java.util.*;
import com.google.gson.*;

import io.uiza.Uiza;
import io.uiza.exception.*;
import io.uiza.model.Category;
import io.uiza.model.Category.*;

public class Main {

  public static void main(String[] args) {
    Uiza.authorization = "<%= config[:token] %>";

    Map<String, Object> params = new HashMap<>();
    params.put("entityId", "<%= config[:category_delete_relation_entity_id] %>");
    params.put("metadataIds", new String[] {"<%= config[:category_delete_relation_category_id_1] %>", "<%= config[:category_delete_relation_category_id_2] %>"});

    try {
      JsonArray response = Category.createRelation(params);
      System.out.println(response);
    } catch (UizaException e) {
      System.out.println("Status is: " + e.getStatusCode());
      System.out.println("Message is: " + e.getMessage());
      System.out.println("Description link is: " + e.getDescriptionLink());
    } catch (Exception e) {
      System.out.println(e);
    }
  }
}
```

```javascript
const uiza = require('uiza');

uiza.authorization('<%= config[:token] %>');

const params = {
  'entityId': '<%= config[:category_delete_relation_entity_id] %>',
  'metadataIds': ['<%= config[:category_delete_relation_category_id_1] %>','<%= config[:category_delete_relation_category_id_2] %>']
};

uiza.category.create_relation(params)
  .then((res) => {
    //Identifier of relation between entity and category has been created
  }).catch((err) => {
    //Error
  });
```

```go
import (
  "github.com/uizaio/api-wrapper-go"
  "github.com/uizaio/api-wrapper-go/category"
)

func init() {
  Uiza.Authorization = "<%= config[:token] %>"
}

params := &uiza.CategoryRelationParams{
  EntityId: uiza.String("<%= config[:category_create_relation_entity_id] %>"),
  MetadataIds: []*string{
  uiza.String("<%= config[:category_create_relation_category_id_1] %>"),
  uiza.String("<%= config[:category_create_relation_category_id_2] %>"),
}}
response, err := category.CreateRelation(params)
if err != nil {
  log.Printf("%v\n", err)
} else {
  log.Printf("%v\n", response)
}
```

```csharp
using System;
using Uiza.Net.Configuration;
using Uiza.Net.Enums;
using Uiza.Net.Parameters;
using Uiza.Net.Services;

UizaConfiguration.SetupUiza(new UizaConfigOptions
{
  Authorization = "<%= config[:token] %>"
});

try
{
  var listMetadata = new List<string>()
  {
    "<%= config[:category_create_relation_category_id_1] %>",
    "<%= config[:category_create_relation_category_id_2] %>"
  };

  var result = UizaServices.Category.CreateRelation(new CategoryRelationParameter()
  {
    EntityId = "<%= config[:category_create_relation_entity_id] %>",
    MetadataIds = listMetadata
  });
  Console.WriteLine(string.Format("Create Category Relation Success, total record {0}", result.MetaData.result));
  Console.ReadLine();
}
catch (UizaException ex)
{
  Console.WriteLine(ex.Message);
  Console.ReadLine();
}
```

Category relation allows you to put entities into categories. In case you create entities before categories, you should use this to categorize those entities. You can also use this API to add entities to more categories.

> RESPONSE

```json
{
    "data": [
        {
            "id": "5620ed3c-b725-4a9a-8ec1-ecc9df3e5aa6",
            "entityId": "<%= config[:category_create_relation_entity_id] %>",
            "metadataId": "<%= config[:category_create_relation_category_id_1] %>"
        },
        {
            "id": "47209e60-a99f-4c96-99fb-be4f858481b4",
            "entityId": "<%= config[:category_create_relation_entity_id] %>",
            "metadataId": "<%= config[:category_create_relation_category_id_2] %>"
        }
    ],
    "metadata": {
        "total": 2,
        "result": 2,
        "page": 1,
        "limit": 20
    }
}
```

**HTTP Request**

<span class="post-button"> POST </span>
```<%= config[:endpoint] %>/media/entity/related/metadata```

**ARGUMENTS**

| Parameter | Type | Description | Required |
| ------------- | ------------- | ------------- | ------------- |
| **entityId** | *string* | Identifier of entity | **Yes** |
| **metadataIds** | *string* | Identifier of category | **Yes** |


**RETURNS**

| Parameter   | Type   | Description |
|-------------|--------|-------------------------|
| **id** | *string* | Identifier of relation between entity and category has been created |
| **entityId** | *string* | Identifier of entity |
| **metadataIds** | *string* | Identifier of category |
